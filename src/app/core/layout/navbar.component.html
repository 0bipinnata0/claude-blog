<mat-toolbar color="primary">
    <a [routerLink]="['/']" class="logo-link">
        <mat-icon>menu_book</mat-icon>
        <span>Claude Blog</span>
    </a>
    <span class="spacer"></span>
    <a mat-button [routerLink]="['/']">Home</a>
    <a mat-button href="#">About</a>
    <button mat-icon-button (click)="openSearch()" matTooltip="Search (Cmd+K)" aria-label="Open search">
        <mat-icon>search</mat-icon>
    </button>
    <button mat-icon-button (click)="themeService.toggleTheme()"
        [matTooltip]="themeService.isDark() ? 'Switch to light mode' : 'Switch to dark mode'" aria-label="Toggle theme">
        <mat-icon>{{ themeService.isDark() ? 'light_mode' : 'dark_mode' }}</mat-icon>
    </button>

    @if (authService.isAuthenticated()) {
    <button mat-icon-button [matMenuTriggerFor]="userMenu" class="user-avatar">
        <img [src]="authService.user()?.avatar" [alt]="authService.user()?.name" />
    </button>
    <mat-menu #userMenu="matMenu">
        <div class="user-info" mat-menu-item disabled>
            <div class="user-name">{{ authService.user()?.name }}</div>
            <div class="user-login">@{{ authService.user()?.username }}</div>
        </div>
        <button mat-menu-item (click)="authService.logout()">
            <mat-icon>logout</mat-icon>
            <span>Logout</span>
        </button>
    </mat-menu>
    } @else {
    <button mat-button (click)="authService.login()">
        <mat-icon>login</mat-icon>
        Login with GitHub
    </button>
    }
</mat-toolbar>